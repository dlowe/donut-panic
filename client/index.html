<!DOCTYPE html>
<html>
        <head>
        </head>
        <body style="background-color:black; overflow:hidden;">
                <div id="container" style="position: relative; margin: 0px auto; width: 640px;">
                <div id="intro" style="position: absolute; top: 0; left: 0; background-color:white; width:640px; height:480px">
                        <button id="single">Single Player</button><br>
                        <button id="mp_create">Make Multiplayer Game</button><br>
                        <textarea id="mp_game_id"></textarea>
                        <button id="mp_join">Join Multiplayer Game</button><br>
                </div>
                <canvas id="viewport" width=640 height=480 style="background-color: white; position: absolute; top: 0; left: 0;">
                </div>
        </div>
        </body>
        <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
        <script src="panic.js"></script>
        <script language="javascript">
                function start(game_id, player_id) {
                        $("#intro").hide();
                        $("#viewport").show();
                        game.start(window.location.hostname,
                                   window.location.port,
                                   game_id,
                                   player_id,
                                   $("#viewport")[0].getContext("2d"));
                }

                function join(game_id) {
                        game.join_game(game_id, start);
                }

                $(function() {
                        $("#intro").show();
                        $("#viewport").hide();
                        $("#single").click(function() {
                                game.new_game(join);
                        });

                        $("#mp_create").click(function() {
                                game.new_game(function (game_id) {
                                        $("#mp_game_id").text(game_id);
                                });
                        });

                        $("#mp_join").click(function() {
                                join($("#mp_game_id").val());
                        });
                });
        </script>
</body>
</html>
